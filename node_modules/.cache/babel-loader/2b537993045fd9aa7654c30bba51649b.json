{"ast":null,"code":"const apiKey = '4ae2636d8dfbdc3044bede63951a019b';\nexport const GET_CUIDAD = 'GET_CIUDAD';\nexport const GET_DETAILS = 'GET_DETAILS';\nexport const REMOVE_CUIDAD = 'REMOVE_CUIDAD';\nexport function onSearch(ciudad) {\n  return async function (dispatch) {\n    var recurso = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${ciudad}&appid=${apiKey}`);\n    recurso = await recurso.json();\n    let res = {\n      min: Math.round(recurso.main.temp_min),\n      max: Math.round(recurso.main.temp_max),\n      img: recurso.weather[0].icon,\n      id: recurso.id,\n      wind: recurso.wind.speed,\n      temp: recurso.main.temp,\n      name: recurso.name,\n      weather: recurso.weather[0].main,\n      clouds: recurso.clouds.all,\n      latitud: recurso.coord.lat,\n      longitud: recurso.coord.lon\n    };\n    return dispatch({\n      type: GET_CUIDAD,\n      payload: res\n    });\n  };\n}\n;\nexport function onSearchInicio(lat, lon) {\n  return async function (dispatch) {\n    var searchCuidad = await fetch(`https://trueway-geocoding.p.rapidapi.com/ReverseGeocode?location=${lat},${lon}&language=en`, {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-host\": \"trueway-geocoding.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"97b4cb77a4mshb6208e1e9129adfp1f128cjsn3fec747d66ca\"\n      }\n    });\n    const {\n      results\n    } = await searchCuidad.json();\n    var recurso = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${results[0].country}&appid=${apiKey}`);\n    recurso = await recurso.json();\n    let res = {\n      min: Math.round(recurso.main.temp_min),\n      max: Math.round(recurso.main.temp_max),\n      img: recurso.weather[0].icon,\n      id: recurso.id,\n      name: recurso.name\n    };\n    return dispatch({\n      type: GET_CUIDAD,\n      payload: res\n    });\n  };\n}\n;\nexport function details(id) {\n  return {\n    type: GET_DETAILS,\n    payload: id\n  };\n}\n;\nexport function onClose(id) {\n  return {\n    type: REMOVE_CUIDAD,\n    payload: id\n  };\n}","map":{"version":3,"sources":["/home/andrea/Documentos/AppWeather/src/actions/index.js"],"names":["apiKey","GET_CUIDAD","GET_DETAILS","REMOVE_CUIDAD","onSearch","ciudad","dispatch","recurso","fetch","json","res","min","Math","round","main","temp_min","max","temp_max","img","weather","icon","id","wind","speed","temp","name","clouds","all","latitud","coord","lat","longitud","lon","type","payload","onSearchInicio","searchCuidad","results","country","details","onClose"],"mappings":"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","sourcesContent":["const apiKey = '4ae2636d8dfbdc3044bede63951a019b';\n\nexport const GET_CUIDAD ='GET_CIUDAD';\nexport const GET_DETAILS = 'GET_DETAILS'\nexport const REMOVE_CUIDAD = 'REMOVE_CUIDAD'\n\nexport function onSearch(ciudad){\n    return async function(dispatch){\n        var recurso= await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${ciudad}&appid=${apiKey}`)\n            recurso= await recurso.json()\n           let res = {\n            min: Math.round(recurso.main.temp_min),\n            max: Math.round(recurso.main.temp_max),\n            img: recurso.weather[0].icon,\n            id: recurso.id,\n            wind: recurso.wind.speed,\n            temp: recurso.main.temp,\n            name: recurso.name,\n            weather: recurso.weather[0].main,\n            clouds: recurso.clouds.all,\n            latitud: recurso.coord.lat,\n            longitud: recurso.coord.lon\n        }\n\n        return dispatch({type:GET_CUIDAD, payload:res})\n    }\n};\n\nexport function onSearchInicio(lat,lon){\n    return async function(dispatch){\n        var searchCuidad= await fetch(`https://trueway-geocoding.p.rapidapi.com/ReverseGeocode?location=${lat},${lon}&language=en`,{\n            \"method\": \"GET\",\n            \"headers\": {\n                \"x-rapidapi-host\": \"trueway-geocoding.p.rapidapi.com\",\n                \"x-rapidapi-key\": \"97b4cb77a4mshb6208e1e9129adfp1f128cjsn3fec747d66ca\"\n            }\n        })\n      const {results}= await searchCuidad.json()\n        var recurso= await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${results[0].country}&appid=${apiKey}`)\n        recurso= await recurso.json()\n        let res = {\n             min: Math.round(recurso.main.temp_min),\n             max: Math.round(recurso.main.temp_max),\n             img: recurso.weather[0].icon,\n             id: recurso.id,\n             name: recurso.name\n        }\n        return dispatch({type:GET_CUIDAD, payload:res})\n    }\n};\n\nexport function details(id){\n    return{\n        type:GET_DETAILS,\n        payload:id\n    }\n\n};\n\nexport function onClose(id){\n    return{\n     type: REMOVE_CUIDAD,\n     payload:id\n    }\n}\n"]},"metadata":{},"sourceType":"module"}